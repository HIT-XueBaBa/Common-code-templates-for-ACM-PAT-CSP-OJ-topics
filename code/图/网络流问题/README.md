# 网络流问题的建模思路
1. 补点法：当发现所有结点满足"从结点流出和流入的流量相等"的性质时，要想到建立最大流模型，通常要补一个源点和一个汇点。**如果想要求解边上的流量，最好提前将边在edges数组中的编号存储起来，待最大流算法执行完毕后，通过编号访问edges数组对应元素的flow成员即可。**
2. 拆点法：当发现题目对经过每条边或每个结点的次数有要求时，要想到建立最小费用最大流模型，连边分为两种方法：
   1. 当所求路径没有环时：
       - 要求经过结点`i`最多`k`次，则将结点`i`拆成结点`i`和结点`i'`，并从结点`i`向结点`i'`连一条容量为`k`，费用为0的边
       - 要求经过某条由`a`向`b`权值为`c`的边最多`k`次，则将该边变为由`a'`向`b`，流量为`k`，费用为`c`的边
   2. 当所求路径有环时（二分图最大/小权完美匹配）：
       - 通常需要新建一个源点`s`和一个汇点`t`，将图中的结点`i`拆成结点`i`和结点`i'`
       - 要求经过结点`i`最多`k`次，在源点`s`和`i`结点间各连一条容量为`k`、费用为0的边；在结点`i'`和汇点`t`之间各连一条容量为`k`、费用为0的边
       - 要求经过某条由`a`向`b`权值为`c`的边最多`k`次，则将该边变为由`a`向`b'`，容量为`k`，费用为`c`的边
3. 二分图匹配
   1. 二分图：简单的说，可以把一个图的结点集分成两部分X和Y，同一部分的结点间没有边，那这个图就是二分图。换句话说，可以把结点进行二染色，使得同色结点不相邻。可以证明，**一个图是二分图，当且仅当它不含长度为奇数的环**。
   2. 匹配：给定一个二分图G，在G的一个子图M中，M的边集{E}中的任意两条边都不依附于同一个顶点，则称M是一个匹配。 
   3. 针对无权图求出包含边数最多的匹配，即二分图最大基数匹配
   
      增加一个源点s和一个汇点t，从s到所有X结点间连一条容量为1的边，再从所有Y结点各连一条容量为1的边到t，最后把每条边变为一条由X指向Y的边，容量为1。s-t的最大流即为所求。
   4. 针对有权图边权之和最大的匹配：
      1. 要求每个点都被匹配到，即求最大权完美匹配
      
         增加一个源点s和一个汇点t，从s到所有X结点间连一条容量为1的边，再从所有Y结点各连一条容量为1的边到t。最后把每条边变为一条由X指向Y的边，容量为1，且费用为权值的相反数，其他所有边费用为0。执行最小费用最大流算法，如果由s出发的所有边全部满载（最大流与结点数相等），说明最大权完美匹配存在，最大权为最小费用的相反数；否则不存在最大权完美匹配
      2. 对边数没有要求
      
         与求解最大权完美匹配类似，但需要在求解s-t最小费用流的过程中记录下流量为0,1,2,3,···时的最小费用流，然后加以比较。
